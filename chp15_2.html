<!DOCTYPE html>
<html lang="en-US">
    <head>
        <title>Event Continue</title>
        <style>
            body {
                height: 200px;
                background: beige;
            }
            .dot {
                height: 8px;
                width: 8px;
                border-radius: 4px;
                background: blue;
                position: absolute;
            }
        </style>
    </head>

<body>

        <p>Drag the bar to change its width:</p>
        <div style="background: orange; width: 60px; height: 20px"></div>

        <!-- <p>This page turns violent when you hold the V key</p> -->


    <script>
        // keydown and keyup
        // window.addEventListener("keydown", event => {
        //     if (event.key== "v") {
        //         document.body.style.background = "violet";
        //     }

        //     console.log(event.key);
        // });

        // window.addEventListener("keyup", event => {
        //     if (event.key == "v") {
        //         document.body.style.background = "";
        //     }
        // });

        // window.addEventListener("click", event => {
                // let dot = document.createElement("div");
                // dot.className = "dot";
                // dot.style.left = (event.pageX - 4) + "px";
                // dot.style.right = (event.pageY - 4) + "px";
                // document.body.appendChild(dot);
            // });
        
        let lastX; // Tracks the last observed mouse X position
        let bar = document.querySelector("div");

        bar.addEventListener("mousedown", event => {
        if (event.button == 0) {
            lastX = event.clientX;
            window.addEventListener("mousemove", moved);
            event.preventDefault(); // Prevent selection
            }
        });
        
        function moved(event) {
            if (event.buttons == 0) {
            window.removeEventListener("mousemove", moved);
            } else {
            let dist = event.clientX - lastX;
            let newWidth = Math.max(10, bar.offsetWidth + dist);
            bar.style.width = newWidth + "px";
            lastX = event.clientX;
            }
        }
    </script>
</body>
</html>